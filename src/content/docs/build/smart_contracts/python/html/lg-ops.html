
          <section id="avm-operations">
<h1>AVM operations<a class="headerlink" href="#avm-operations" title="Link to this heading">¶</a></h1>
<p>Algorand Python allows you to do express <a class="reference external" href="https://developer.algorand.org/docs/get-details/dapps/avm/teal/specification/#operations">every op code the AVM has available</a> apart from ops that manipulate the stack (to avoid conflicts with the compiler), and <code class="docutils literal notranslate"><span class="pre">log</span></code> (to avoid confusion with the superior <a class="reference internal" href="lg-logs.html"><span class="std std-doc">Algorand Python log function</span></a>). These ops are exposed via the <a class="reference internal" href="api-algopy.op.html#module-algopy.op" title="algopy.op"><span class="xref myst py py-mod"><code class="docutils literal notranslate"><span class="pre">algopy.op</span></code></span></a> submodule.
We generally recommend importing this entire submodule so you can use intellisense to discover the available methods:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">algopy</span> <span class="kn">import</span> <span class="n">UInt64</span><span class="p">,</span> <span class="n">op</span><span class="p">,</span> <span class="n">subroutine</span>

<span class="nd">@subroutine</span>
<span class="k">def</span> <span class="nf">sqrt_16</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">UInt64</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">op</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
</pre></div>
</div>
<p>All ops are typed using Algorand Python types and have correct static type representations.</p>
<p>Many ops have higher-order functionality that Algorand Python exposes and would limit the need to reach for the underlying ops. For instance, there is first-class support for local and global storage so there is little need to use the likes of <code class="docutils literal notranslate"><span class="pre">app_local_get</span></code> et. al. But they are still exposed just in case you want to do something that Algorand Python’s abstractions don’t support.</p>
<section id="txn">
<h2>Txn<a class="headerlink" href="#txn" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">Txn</span></code> opcodes are so commonly used they have been exposed directly in the <code class="docutils literal notranslate"><span class="pre">algopy</span></code> module and can be easily imported to make it terser to access:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">algopy</span> <span class="kn">import</span> <span class="n">subroutine</span><span class="p">,</span> <span class="n">Txn</span>

<span class="nd">@subroutine</span>
<span class="k">def</span> <span class="nf">has_no_app_args</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">Txn</span><span class="o">.</span><span class="n">num_app_args</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>
</div>
</section>
<section id="global">
<h2>Global<a class="headerlink" href="#global" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">Global</span></code> opcodes are so commonly used they have been exposed directly in the <code class="docutils literal notranslate"><span class="pre">algopy</span></code> module and can be easily imported to make it terser to access:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">algopy</span> <span class="kn">import</span> <span class="n">subroutine</span><span class="p">,</span> <span class="n">Global</span><span class="p">,</span> <span class="n">Txn</span>

<span class="nd">@subroutine</span>
<span class="k">def</span> <span class="nf">only_allow_creator</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">assert</span> <span class="n">Txn</span><span class="o">.</span><span class="n">sender</span> <span class="o">==</span> <span class="n">Global</span><span class="o">.</span><span class="n">creator_address</span><span class="p">,</span> <span class="s2">"Only the contract creator can perform this operation"</span>
</pre></div>
</div>
</section>
</section>

        