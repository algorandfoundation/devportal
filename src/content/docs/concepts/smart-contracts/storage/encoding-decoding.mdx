---
title: Encoding and Decoding
description: Essential data encodings for Algorand smart contracts, ensuring consistent on-chain and off-chain data handling
---

import { Code } from '@astrojs/starlight/components';
import { Tabs, TabItem } from '@astrojs/starlight/components';
import RemoteCode from '/src/components/RemoteCode.astro';

Consistent data representation is crucial when interacting with Algorand smart contracts. This section explains the fundamental concepts of encoding and decoding information so that on-chain logic and off-chain applications remain compatible. By following these guidelines, developers can ensure reliable data handling and a seamless flow of information throughout the development lifecycle.

## Encoding Types

### JSON

The encoding most often returned when querying the state of the chain is [JSON](https://www.json.org/json-en.html).

It is easy to visually inspect but may be relatively slow to parse.

All [byte arrays](https://developer.algorand.org/docs/get-details/encoding/#byte-arrays) are base 64 encoded strings

### MessagePack

The encoding used when transmitting transactions to a node is [MessagePack](https://msgpack.org/index.html).

To inspect a given msgpack file contents a convenience commandline tool is provided:

```shell
msgpacktool -d < file.msgp
```

### Base64

The encoding for byte arrays is [Base64](https://en.wikipedia.org/wiki/Base64).

This is to make it safe for the byte array to be transmitted as part of a json object.

### Base32

The encoding used for Addresses and Transaction Ids is [Base32](https://en.wikipedia.org/wiki/Base32).

## Individual Field Encodings

### Address

In Algorand a [public key](https://developer.algorand.org/docs/get-details/accounts/#transformation-public-key-to-algorand-address) is a 32 byte array.

The Accounts or Addresses are typically shown as a 58 character long string corresponding to a base32 encoding of the byte array of the public key + a checksum.

Given an address `4H5UNRBJ2Q6JENAXQ6HNTGKLKINP4J4VTQBEPK5F3I6RDICMZBPGNH6KD4`, encoding to and from the public key format can be done as follows:

<Tabs syncKey="lang">
	<TabItem label="Python" icon="seti:python">
    <RemoteCode
          src='https://raw.githubusercontent.com/algorand/py-algorand-sdk/refs/heads/examples/examples/codec.py'
          snippet='CODEC_ADDRESS'
          lang='python'
          title='Encoding-Decoding-Address'
          frame='none'
      />

  </TabItem>
  <TabItem label="JavaScript" icon="seti:javascript">
    <RemoteCode
          src='https://raw.githubusercontent.com/algorand/js-algorand-sdk/refs/heads/main/examples/codec.ts'
          snippet='CODEC_ADDRESS'
          lang='js'
          title='Encoding-Decoding-Address'
          frame='none'
      />
  </TabItem>
  <TabItem label="Go" icon="seti:go">
    <RemoteCode
        src='https://raw.githubusercontent.com/algorand/go-algorand-sdk/refs/heads/examples/examples/codec/main.go'
        snippet='CODEC_ADDRESS'
        lang='go'
        title='Encoding-Decoding-Address'
        frame='none'
      />
  </TabItem>
  <TabItem label="Java" icon="seti:java">
    <RemoteCode
      src='https://raw.githubusercontent.com/algorand/java-algorand-sdk/refs/heads/examples/examples/src/main/java/com/algorand/examples/CodecExamples.java'
      snippet='CODEC_ADDRESS'
      lang='java'
      title='Encoding-Decoding-Address'
      frame='none'
    />
  </TabItem>

</Tabs>

### Byte arrays

When transmitting an array of bytes over the network, byte arrays are base64 encoded. The SDK will handle encoding from a byte array to base64 but may not decode some fields and you'll have to handle it yourself. For example compiled program results or the keys and values in a state delta in an application call will be returned as base64 encoded strings.

_Example:_

Given a base64 encoded byte array `SGksIEknbSBkZWNvZGVkIGZyb20gYmFzZTY0` it may be decoded as follows:

<Tabs syncKey='lang'>
  <TabItem label='Python' icon='seti:python'>
    <RemoteCode
            src='https://raw.githubusercontent.com/algorand/py-algorand-sdk/refs/heads/examples/examples/codec.py'
            snippet='CODEC_BASE64'
            lang='python'
            title='Encoding-Decoding-Address'
            frame='none'
      />
  </TabItem>
  <TabItem label='JavaScript' icon='seti:javascript'>
     <RemoteCode
            src='https://raw.githubusercontent.com/algorand/js-algorand-sdk/refs/heads/main/examples/codec.ts'
            snippet='CODEC_BASE64'
            lang='js'
            title='Encoding-Decoding-Address'
            frame='none'
      />
  </TabItem>
  <TabItem label='Go' icon='seti:go'>
    <RemoteCode
            src='https://raw.githubusercontent.com/algorand/go-algorand-sdk/refs/heads/examples/examples/codec/main.go'
            snippet='CODEC_BASE64'
            lang='go'
            title='Encoding-Decoding-Address'
            frame='none'
      />

  </TabItem>
  <TabItem label='Java' icon='seti:java'>
    <RemoteCode
            src='https://raw.githubusercontent.com/algorand/java-algorand-sdk/refs/heads/examples/examples/src/main/java/com/algorand/examples/CodecExamples.java'
            snippet='CODEC_BASE64'
            lang='java'
            title='Encoding-Decoding-Address'
            frame='none'
      />
  
  </TabItem>
</Tabs>

### Integers

Integers in algorand are almost always uint64, sometimes it's required to encode them as bytes. For example when passing them as application arguments in an ApplicationCallTransaction. When encoding an integer to pass as an application argument, the integer should be encoded as the big endian 8 byte representation of the integer value.

_Example:_

Given an integer `1337`, you may encode it as:

<Tabs syncKey='lang'>
  <TabItem label='Python' icon='seti:python'>
    <RemoteCode
            src='https://raw.githubusercontent.com/algorand/py-algorand-sdk/refs/heads/examples/examples/codec.py'
            snippet='CODEC_UINT64'
            lang='python'
            title='Encoding-Decoding-Address'
            frame='none'
      />
  </TabItem>
  <TabItem label='JavaScript' icon='seti:javascript'>
     <RemoteCode
            src='https://raw.githubusercontent.com/algorand/js-algorand-sdk/refs/heads/main/examples/codec.ts'
            snippet='CODEC_UINT64'
            lang='js'
            title='Encoding-Decoding-Address'
            frame='none'
      />
  </TabItem>
  <TabItem label='Go' icon='seti:go'>
    <RemoteCode
            src='https://raw.githubusercontent.com/algorand/go-algorand-sdk/refs/heads/examples/examples/codec/main.go'
            snippet='CODEC_UINT64'
            lang='go'
            title='Encoding-Decoding-Address'
            frame='none'
      />

  </TabItem>
  <TabItem label='Java' icon='seti:java'>
    <RemoteCode
            src='https://raw.githubusercontent.com/algorand/java-algorand-sdk/refs/heads/examples/examples/src/main/java/com/algorand/examples/CodecExamples.java'
            snippet='CODEC_UINT64'
            lang='java'
            title='Encoding-Decoding-Address'
            frame='none'
      />
  
  </TabItem>
</Tabs>

## Working with Encoded Structures

### transactions

Sometimes an application needs to transmit a transaction or transaction group between the front end and back end. This can be done by msgpack encoding the transaction object on one side and msgpack decoding it on the other side. Often the msgpack'd bytes will be base64 encoded so that they can be safely transmitted in some json payload so we use that encoding here.

Essentially the encoding is:

`tx_byte_str = base64encode(msgpack_encode(tx_obj))`

and decoding is:

`tx_obj = msgpack_decode(base64decode(tx_byte_str))`

_Example:_

Create a payment transaction from one account to another using suggested parameters and amount 10000, we write the msgpack encoded bytes

[//]: # '<Tabs syncKey="lang">'
[//]: # '	<TabItem label="Python" icon="seti:python">'
[//]: # '		```python'
[//]: # '        sp = algod_client.suggested_params()'
[//]: # '        pay_txn = transaction.PaymentTxn(acct.address, sp, acct.address, 10000)'
[//]: #
[//]: # '        # Write message packed transaction to disk'
[//]: # '        with open("pay.txn", "w") as f:'
[//]: # '            f.write(encoding.msgpack_encode(pay_txn))'
[//]: #
[//]: # '        # Read message packed transaction and decode it to a Transaction object'
[//]: # '        with open("pay.txn", "r") as f:'
[//]: # '            recovered_txn = encoding.msgpack_decode(f.read())'
[//]: #
[//]: # '        print(recovered_txn.dictify())'
[//]: # '        ```'
[//]: # '        [Snippet Source](https://github.com/algorand/py-algorand-sdk/blob/examples/examples/codec.py#L40-L52)'
[//]: # '        ```python'
[//]: # '        # Sign transaction'
[//]: # '        spay_txn = pay_txn.sign(acct.private_key)'
[//]: # '        # write message packed signed transaction to disk'
[//]: # '        with open("signed_pay.txn", "w") as f:'
[//]: # '            f.write(encoding.msgpack_encode(spay_txn))'
[//]: #
[//]: # '        # read message packed signed transaction into a SignedTransaction object'
[//]: # '        with open("signed_pay.txn", "r") as f:'
[//]: # '            recovered_signed_txn = encoding.msgpack_decode(f.read())'
[//]: #
[//]: # '        print(recovered_signed_txn.dictify())'
[//]: # '        ```'
[//]: # '        [Snippet Source](https://github.com/algorand/py-algorand-sdk/blob/examples/examples/codec.py#L57-L68)'
[//]: # '    </TabItem>'
[//]: # '    <TabItem label="JavaScript" icon="seti:javascript">'
[//]: # '        ```javascript'
[//]: # '        const txn = algosdk.makePaymentTxnWithSuggestedParamsFromObject({'
[//]: # '        from: sender.addr,'
[//]: # '        to: receiver.addr,'
[//]: # '        amount: 1e6,'
[//]: # '        suggestedParams,'
[//]: # '        });'
[//]: #
[//]: # '        const txnBytes = algosdk.encodeUnsignedTransaction(txn);'
[//]: # "        const txnB64 = Buffer.from(txnBytes).toString('base64');"
[//]: # '        // ...'
[//]: # '        const restoredTxn = algosdk.decodeUnsignedTransaction('
[//]: # "        Buffer.from(txnB64, 'base64')"
[//]: # '        );'
[//]: # '        console.log(restoredTxn);'
[//]: # '        ```'
[//]: # '        [Snippet Source](https://github.com/algorand/js-algorand-sdk/blob/examples/examples/codec.ts#L37-L51)'
[//]: # '        ```javascript'
[//]: # '        const signedTxn = txn.signTxn(sender.privateKey);'
[//]: # "        const signedB64Txn = Buffer.from(signedTxn).toString('base64');"
[//]: # '        const restoredSignedTxn = algosdk.decodeSignedTransaction('
[//]: # "        Buffer.from(signedB64Txn, 'base64')"
[//]: # '        );'
[//]: # '        console.log(restoredSignedTxn);'
[//]: # '        ```'
[//]: # '        [Snippet Source](https://github.com/algorand/js-algorand-sdk/blob/examples/examples/codec.ts#L54-L60)'
[//]: # '    </TabItem>'
[//]: # '    <TabItem label="Go" icon="seti:go">'
[//]: # '    	```go'
[//]: # '        // Error handling omitted for brevity'
[//]: # '        sp, _ := algodClient.SuggestedParams().Do(context.Background())'
[//]: # '        ptxn, _ := transaction.MakePaymentTxn('
[//]: # '            acct1.Address.String(), acct1.Address.String(), 10000, nil, "", sp,'
[//]: # '        )'
[//]: #
[//]: # '        // Encode the txn as bytes,'
[//]: # '        // if sending over the wire (like to a frontend) it should also be b64 encoded'
[//]: # '        encodedTxn := msgpack.Encode(ptxn)'
[//]: # '        os.WriteFile("pay.txn", encodedTxn, 0655)'
[//]: #
[//]: # '        var recoveredPayTxn = types.Transaction{}'
[//]: #
[//]: # '        msgpack.Decode(encodedTxn, &recoveredPayTxn)'
[//]: # '        log.Printf("%+v", recoveredPayTxn)'
[//]: # '        ```'
[//]: # '        [Snippet Source](https://github.com/algorand/go-algorand-sdk/blob/examples/examples/codec/main.go#L28-L43)'
[//]: #
[//]: # '        ```go'
[//]: # '        // Assuming we already have a pay transaction `ptxn`'
[//]: #
[//]: # '        // Sign the transaction'
[//]: # '        _, signedTxn, err := crypto.SignTransaction(acct1.PrivateKey, ptxn)'
[//]: # '        if err != nil {'
[//]: # '            log.Fatalf("failed to sign transaction: %s", err)'
[//]: # '        }'
[//]: #
[//]: # '        // Save the signed transaction to file'
[//]: # '        os.WriteFile("pay.stxn", signedTxn, 0644)'
[//]: #
[//]: # '        signedPayTxn := types.SignedTxn{}'
[//]: # '        err = msgpack.Decode(signedTxn, &signedPayTxn)'
[//]: # '        if err != nil {'
[//]: # '            log.Fatalf("failed to decode signed transaction: %s", err)'
[//]: # '        }'
[//]: # '        ```'
[//]: # '        [Snippet Source](https://github.com/algorand/go-algorand-sdk/blob/examples/examples/codec/main.go#L46-L62)'
[//]: # '    </TabItem>'
[//]: # '    <TabItem label="Java" icon="seti:java">'
[//]: # '    	```java'
[//]: # '        Response<TransactionParametersResponse> rsp = algodClient.TransactionParams().execute();'
[//]: # '        TransactionParametersResponse sp = rsp.body();'
[//]: # '        Transaction ptxn = Transaction.PaymentTransactionBuilder().suggestedParams(sp)'
[//]: # '                .sender(acct.getAddress()).receiver(acct.getAddress()).amount(100).build();'
[//]: #
[//]: # '        byte[] encodedTxn = Encoder.encodeToMsgPack(ptxn);'
[//]: #
[//]: # '        Transaction decodedTxn = Encoder.decodeFromMsgPack(encodedTxn, Transaction.class);'
[//]: # '        assert decodedTxn.equals(ptxn);'
[//]: # '        ```'
[//]: # '        [Snippet Source](https://github.com/algorand/java-algorand-sdk/blob/examples/examples/src/main/java/com/algorand/examples/CodecExamples.java#L49-L58)'
[//]: #
[//]: # '        ```java'
[//]: # '        SignedTransaction signedTxn = acct.signTransaction(ptxn);'
[//]: # '        byte[] encodedSignedTxn = Encoder.encodeToMsgPack(signedTxn);'
[//]: #
[//]: # '        SignedTransaction decodedSignedTransaction = Encoder.decodeFromMsgPack(encodedSignedTxn,'
[//]: # '                SignedTransaction.class);'
[//]: # '        assert decodedSignedTransaction.equals(signedTxn);'
[//]: # '        ```'
[//]: # '        [Snippet Source](https://github.com/algorand/java-algorand-sdk/blob/examples/examples/src/main/java/com/algorand/examples/CodecExamples.java#L61-L67)'
[//]: # '    </TabItem>'
[//]: #
[//]: # '</Tabs>'
[//]: #
[//]: # '## ABI Encoding'
[//]: #
[//]: # 'All the SDKs support encoding and decoding of ABI values. The encoding is done using the [Algorand ABI specification](https://developer.algorand.org/docs/get-details/dapps/smart-contracts/ABI/).'
[//]: #
[//]: # "<Tabs syncKey='lang'>"
[//]: # "  <TabItem label='Python' icon='seti:python'>"
[//]: # '    ```python from algosdk import abi # generate a codec from the string'
[//]: # '    representation of the ABI type # in this case, a tuple of two strings codec'
[//]: # '    = abi.ABIType.from_string("(string,string)") # encode the value to its ABI'
[//]: # '    encoding with the codec to_encode = ["hello", "world"] encoded ='
[//]: # '    codec.encode(to_encode) print(encoded.hex()) # decode the value from its ABI'
[//]: # '    encoding with the codec decoded = codec.decode(encoded) print(decoded) #'
[//]: # '    prints ["hello", "world"] # generate a codec for a uint64 array'
[//]: # '    uint_array_codec = abi.ABIType.from_string("uint64[]") uint_array = [1, 2,'
[//]: # '    3, 4, 5] encoded_array = uint_array_codec.encode(uint_array)'
[//]: # '    print(encoded_array.hex()) decoded_array ='
[//]: # '    uint_array_codec.decode(encoded_array) print(decoded_array) # prints [1, 2,'
[//]: # '    3, 4, 5] ``` [Snippet'
[//]: # '    Source](https://github.com/algorand/py-algorand-sdk/blob/examples/examples/codec.py#L74-L97)'
[//]: # '  </TabItem>'
[//]: # "  <TabItem label='JavaScript' icon='seti:javascript'>"
[//]: # '    ```javascript const stringTupleCodec ='
[//]: # "    algosdk.ABIType.from('(string,string)'); const stringTupleData = ['hello',"
[//]: # "    'world']; const encodedTuple = stringTupleCodec.encode(stringTupleData);"
[//]: # "    console.log(Buffer.from(encodedTuple).toString('hex')); const decodedTuple ="
[//]: # '    stringTupleCodec.decode(encodedTuple); console.log(decodedTuple); //'
[//]: # "    ['hello', 'world'] const uintArrayCodec = algosdk.ABIType.from('uint64[]');"
[//]: # '    const uintArrayData = [1, 2, 3, 4, 5]; const encodedArray ='
[//]: # '    uintArrayCodec.encode(uintArrayData);'
[//]: # "    console.log(Buffer.from(encodedArray).toString('hex')); const decodeArray ="
[//]: # '    uintArrayCodec.decode(encodedArray); console.log(decodeArray); // [1, 2, 3,'
[//]: # '    4, 5] ``` [Snippet'
[//]: # '    Source](https://github.com/algorand/js-algorand-sdk/blob/examples/examples/codec.ts#L63-L80)'
[//]: # '  </TabItem>'
[//]: # "  <TabItem label='Go' icon='seti:go'>"
[//]: # '    ```go tupleCodec, _ := abi.TypeOf("(string,string)") tupleVal := []string'
[//]: # "    {('hello', 'world')}"
[//]: # '    encodedTuple, _ := tupleCodec.Encode(tupleVal) log.Printf("%x",'
[//]: # '    encodedTuple) decodedTuple, _ := tupleCodec.Decode(encodedTuple)'
[//]: # '    log.Printf("%v", decodedTuple) // [hello world] arrCodec, _ :='
[//]: # '    abi.TypeOf("uint64[]") arrVal := []uint64{(1, 2, 3, 4, 5)}'
[//]: # '    encodedArr, _ := arrCodec.Encode(arrVal) log.Printf("%x", encodedArr)'
[//]: # '    decodedArr, _ := arrCodec.Decode(encodedArr) log.Printf("%v", decodedArr) //'
[//]: # '    [1 2 3 4 5] ``` [Snippet'
[//]: # '    Source](https://github.com/algorand/go-algorand-sdk/blob/examples/examples/codec/main.go#L101-L117)'
[//]: # '  </TabItem>'
[//]: # "  <TabItem label='Java' icon='seti:java'>"
[//]: # '    ```java ABIType tupleCodec = ABIType.valueOf("(string,string)"); Object[]'
[//]: # "    tupleData = new Object[] {('hello', 'world')}; byte[] tupleEncoded ="

[//]: # ' tupleCodec.encode(tupleData); System.out.printf("Encoded: \'%s\'\\n",'
[//]: # ' Hex.encodeHexString(tupleEncoded)); Object tupleDecoded ='
[//]: # ' tupleCodec.decode(tupleEncoded); // prints [hello, world]'
[//]: # ' System.out.printf("Decoded: %s\\n", Arrays.toString((Object[])'
[//]: # ' tupleDecoded)); ABIType arrCodec = ABIType.valueOf("uint64[]"); Object[]'
[//]: # ' arrData = new Object[] {(1, 2, 3, 4, 5)}; byte[] arrEncoded ='
[//]: # ' arrCodec.encode(arrData); System.out.printf("Encoded: \'%s\'\\n",'
[//]: # ' Hex.encodeHexString(arrEncoded)); Object arrDecoded ='
[//]: # ' arrCodec.decode(arrEncoded); // prints [1, 2, 3, 4, 5]'
[//]: # ' System.out.printf("Decoded: %s\\n", Arrays.toString((Object[]) arrDecoded));'
[//]: # ' ``` [Snippet'
[//]: # ' Source](https://github.com/algorand/java-algorand-sdk/blob/examples/examples/src/main/java/com/algorand/examples/CodecExamples.java#L70-L86)'
[//]: # ' </TabItem>'
[//]: # '</Tabs>'
