---
title: Switching Networks
description: Guide to properly switch between different Algorand networks
---

By default, an Algorand installation is configured to run on MainNet. For most users, this is the desired outcome. Developers, however, need access to TestNet, BetaNet, and other networks. This guide describes switching between networks.

## Replacing the Genesis File

Every Algorand node has a data directory that is used to store the ledger and other configuration information. As part of this configuration, a `genesis.json` file is used. The `genesis.json` file defines the initial state of the blockchain, its ‘genesis block’. This is a JSON formatted file with the schema for the blockchain. It contains the network name and ID, the protocol version, and the list of allocated addresses to start the chain with. Each address contains a list of things like address status and the amount of Algo owned by the address.

As part of the installer, a `genesis` directory is created under the node's installed location for binaries. This directory contains additional directories for each of the Algorand networks: BetaNet, TestNet, MainNet, etc.. These directories each contain the `genesis.json` file for that instance of the public Algorand networks (eg `~/var/lib/algorand/genesis/mainnet/genesis.json`).

!!! info
The genesis file for _Debian_ and _RPM_ installs are stored in the `/var/lib/algorand/genesis/` directory.

The network can be switched by either replacing the current genesis file located in the `data` directory with the specific network `genesis.json` or by creating a new `data` directory and copying the specific network `genesis.json` file to the new `data` directory. Replacing the current genesis file will not destroy the current network data, but will prevent running multiple networks on the same node. To run multiple networks at the same time multiple data directories are required.

# Using a New Data Directory

To construct a new data directory follow the steps described below that depend on the type of install that was used with the current node.

## Debian or RPM Installs

For _Debian_ and _RPM_ installs the data directory is set to `/var/lib/algorand`. With these installs, the genesis files are stored in `/var/lib/algorand/genesis/`. Create the new data directory for the network that is being switched to. (eg `/var/lib/algorand_testnet`).

```
ALGORAND_DATA=/var/lib/algorand_testnet
sudo mkdir -p ${ALGORAND_DATA}
```

Copy the specific network genesis file to the new directory and set the ownership to the algorand account.

```
sudo cp -p /var/lib/algorand/genesis/testnet/genesis.json ${ALGORAND_DATA}/genesis.json
sudo cp -p /var/lib/algorand/system.json ${ALGORAND_DATA}/system.json
sudo chown -R algorand ${ALGORAND_DATA}
```

Use `systemctl` to enable the process and start it.

```
sudo systemctl enable algorand@$(systemd-escape ${ALGORAND_DATA})
sudo systemctl start algorand@$(systemd-escape ${ALGORAND_DATA})
```

The process can be disabled or stopped using `systemctl` commands.

```
sudo systemctl stop algorand@$(systemd-escape ${ALGORAND_DATA})
sudo systemctl disable algorand@$(systemd-escape ${ALGORAND_DATA})
```

## Other Linux Distributions

Assume the node binaries are currently installed in `~/node` and the data directory is set to `~/node/data`. Create the new data directory for the network that is being switched to. (eg `~/node/data_testnet`).

```
cd ~/node
./goal node stop -d data
mkdir data_testnet
cp ~/node/genesis/testnet/genesis.json ~/node/data_testnet
```

Startup the new node using the `-d` option to point at the new network.

```
./goal node start -d ~/node/data_testnet
```

The node will restart and begin communicating with the TestNet network. It will need to sync with the network which will take time. Run the following command to check the current sync status.

```
./goal node status -d ~/node/data_testnet
```

At this point, the original network can be stared as well using the standard data directory.

## MacOS

Assume the node binaries are currently installed in `~/node` and the data directory is set to `~/node/data`. Create the new data directory for the network that is being switched to. (eg `~/node/data_testnet`).

```
cd ~/node
./goal node stop -d data
mkdir data_testnet
cp ~/node/genesis/testnet/genesis.json ~/node/data_testnet
```

Startup the new node using the `-d` option to point at the new network.

```
./goal node start -d ~/node/data_testnet
```

The node will restart and begin communicating with the TestNet network. It will need to sync with the network which will take time. Run the following command to check the current sync status.

```
./goal node status -d ~/node/data_testnet
```

At this point, the original network can be stared as well using the standard data directory.

# DNS Configuration for BetaNet

For the BetaNet network, when installing a new node or relay, make the following modification to the `config.json` file located in the node's data directory. Replace the line:

```
"DNSBootstrapID": "<network>.algorand.network",
```

with

```
"DNSBootstrapID": "<network>.algodev.network",
```

If former line is not present, just add the latter line.
If there is no `config.json` in the Algorand data folder, just create a new one with the following content:

```json
{
  "DNSBootstrapID": "<network>.algodev.network"
}
```

This modification to the `DNSBootstrapID` is only necessary for the BetaNet network.
